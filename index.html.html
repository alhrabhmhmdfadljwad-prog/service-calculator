<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø© â€“ Ø§Ù„Ø¹ØªØ¨Ø© Ø§Ù„Ø­Ø³ÙŠÙ†ÙŠØ© Ø§Ù„Ù…Ù‚Ø¯Ø³Ø©</title>
    <!-- Ø®Ø· Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: "Cairo", "Tahoma", Arial, sans-serif;
            background: #eef1f5;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #0b3c63;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #0b3c63;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .header img {
            height: 80px;
        }

        .left-title {
            text-align: left;
            font-weight: 900;
            color: #0b3c63;
            font-size: 1.1em;
            line-height: 1.4;
        }

        .left-title span {
            color: #b88a13;
            font-weight: 700;
        }

        /* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø© */
        .main-title {
            text-align: center;
            margin: 15px 0 25px 0;
            color: #0b3c63;
        }

        .main-title h2 {
            margin: 0;
            font-size: 24px;
            text-decoration: underline;
            text-decoration-color: #b88a13;
        }

        .section {
            border: 1px solid #dcdcdc;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #fcfcfc;
            position: relative;
        }

        .section-title {
            position: absolute;
            top: -12px;
            right: 20px;
            background: white;
            padding: 0 10px;
            color: #0b3c63;
            font-weight: bold;
            font-size: 14px;
        }

        .row {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .form-group {
            flex: 1;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 700;
            font-size: 14px;
            color: #333;
        }

        input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-family: inherit;
            box-sizing: border-box;
            /* Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹ Ù„Ø¶Ø¨Ø· Ø§Ù„Ø¹Ø±Ø¶ */
            font-size: 14px;
            transition: border-color 0.3s;
        }

        input:focus {
            border-color: #b88a13;
            outline: none;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            flex: 1;
            padding: 12px;
            font-size: 18px;
            font-family: "Cairo", sans-serif;
            font-weight: bold;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: transform 0.1s, opacity 0.2s;
        }

        button:active {
            transform: scale(0.98);
        }

        .calc {
            background: #0b3c63;
            color: white;
        }

        .calc:hover {
            background: #092a46;
        }

        .print {
            background: #b88a13;
            color: white;
        }

        .print:hover {
            background: #946f0f;
        }

        .result-box {
            border: 2px dashed #0b3c63;
            border-radius: 12px;
            padding: 15px;
            margin-top: 15px;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            background: #f0f7ff;
            color: #0b3c63;
            display: none;
            /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
        }

        .result-box.show {
            display: block;
        }

        .note {
            color: #d9534f;
            text-align: center;
            font-size: 13px;
            margin-top: 15px;
            font-weight: bold;
        }

        .footer {
            text-align: center;
            margin-top: 20px;
            font-size: 13px;
            color: #777;
            border-top: 1px solid #eee;
            padding-top: 10px;
        }

        @media print {
            @page {
                size: A4;
                margin: 5mm 10mm;
                /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù‡ÙˆØ§Ù…Ø´ Ù„Ø¶Ù…Ø§Ù† Ø§Ø­ØªÙˆØ§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
            }

            body {
                background: white;
                padding: 0;
                margin: 0;
                width: 100%;
            }

            .container {
                box-shadow: none;
                border: none;
                width: 100% !important;
                max-width: 100% !important;
                padding: 0;
                margin: 0;
            }

            .btn-group,
            button,
            .note {
                display: none !important;
            }

            .result-box {
                break-inside: avoid;
                border: 2px solid #000;
                page-break-inside: avoid;
            }

            input {
                border: none;
                border-bottom: 1px solid #000;
                padding: 0;
                background: transparent;
            }

            /* ØªØµØ­ÙŠØ­ Ù„Ù„Ù…ØªØµÙØ­Ø§Øª Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ù‚Øµ Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ÙŠØ³Ø±Ù‰ ÙÙŠ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© */
            html,
            body {
                overflow-x: hidden;
            }
        }
    </style>
</head>

<body>

    <div class="container">

        <div class="header">
            <!-- ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© Ù‡Ù†Ø§ -->
            <img src="11.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø¹ØªØ¨Ø©" onerror="this.style.display='none'">
            <div class="left-title">
                Ø§Ù„Ø£Ù…Ø§Ù†Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø¹ØªØ¨Ø© Ø§Ù„Ø­Ø³ÙŠÙ†ÙŠØ© Ø§Ù„Ù…Ù‚Ø¯Ø³Ø©<br>
                <span>Ø´Ø¹Ø¨Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ÙŠØ©</span>
            </div>
        </div>

        <div class="main-title">
            <h2>Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø©</h2>
        </div>

        <div class="section">
            <span class="section-title">ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø®Ø¯Ù…Ø©</span>
            <div class="row">
                <div class="form-group">
                    <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©</label>
                    <input type="date" id="start">
                </div>
                <div class="form-group">
                    <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø­ØªØ³Ø§Ø¨ (Ø§Ù„Ù†Ù‡Ø§ÙŠØ©)</label>
                    <input type="date" id="end">
                </div>
            </div>
        </div>

        <div class="section">
            <span class="section-title">Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø¶Ù…ÙˆÙ†Ø© (Ø¥Ø¶Ø§ÙØ©)</span>
            <div class="row">
                <div class="form-group"><input type="number" id="gYears" placeholder="Ø³Ù†Ø©" min="0"></div>
                <div class="form-group"><input type="number" id="gMonths" placeholder="Ø´Ù‡Ø±" min="0"></div>
                <div class="form-group"><input type="number" id="gDays" placeholder="ÙŠÙˆÙ…" min="0"></div>
            </div>
        </div>

        <div class="section">
            <span class="section-title">Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© (Ø¥Ø¶Ø§ÙØ©)</span>
            <div class="row">
                <div class="form-group"><input type="number" id="mYears" placeholder="Ø³Ù†Ø©" min="0"></div>
                <div class="form-group"><input type="number" id="mMonths" placeholder="Ø´Ù‡Ø±" min="0"></div>
                <div class="form-group"><input type="number" id="mDays" placeholder="ÙŠÙˆÙ…" min="0"></div>
            </div>
        </div>

        <div class="section">
            <span class="section-title">Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ§Ù„ØºÙŠØ§Ø¨Ø§Øª (Ø®ØµÙ…)</span>
            <div class="row">
                <div class="form-group"><input type="number" id="vYears" placeholder="Ø³Ù†Ø©" min="0"></div>
                <div class="form-group"><input type="number" id="vMonths" placeholder="Ø´Ù‡Ø±" min="0"></div>
                <div class="form-group"><input type="number" id="vDays" placeholder="ÙŠÙˆÙ…" min="0"></div>
            </div>
        </div>

        <div class="btn-group">
            <button class="calc" onclick="calc()">Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø©</button>
            <button class="print" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
        </div>

        <div id="resultsArea">
            <div class="result-box" id="actual"></div>
            <div class="result-box" id="total"></div>
        </div>

        <p class="note">
            * Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù„Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ© ÙÙ‚Ø·.
        </p>

        <div class="footer">
            - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© â€“ Ø§Ù„Ø¹ØªØ¨Ø© Ø§Ù„Ø­Ø³ÙŠÙ†ÙŠØ© Ø§Ù„Ù…Ù‚Ø¯Ø³Ø© Â© <span id="curYear"></span><br>
            Ø´Ø¹Ø¨Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ÙŠØ© - Ù…. Ø¹Ù„ÙŠ ØºØ±ÙŠØ¨
        </div>

    </div>

    <script>
        document.getElementById('curYear').innerText = new Date().getFullYear();

        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ù…Ù† Ø§Ù„Ø­Ù‚Ù„
        function getVal(id) {
            const val = document.getElementById(id).value;
            return val ? parseInt(val) : 0;
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¯Ø¹Ù… Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ø¹Ø¨Ø± Ø§Ù„Ù…ØªØµÙØ­Ø§Øª
        function parseDate(input) {
            if (!input) return null;
            let parts = input.split("-");
            // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø´Ù‡Ø± ÙÙŠ JS ÙŠØ¨Ø¯Ø£ Ù…Ù† 0
            return new Date(parts[0], parts[1] - 1, parts[2]);
        }

        function calc() {
            const startInput = document.getElementById('start').value;
            const endInput = document.getElementById('end').value;
            const actualBox = document.getElementById('actual');
            const totalBox = document.getElementById('total');

            if (!startInput || !endInput) {
                alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© ÙˆØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø­ØªØ³Ø§Ø¨");
                return;
            }

            let s = parseDate(startInput);
            let e = parseDate(endInput);

            if (e < s) {
                alert("ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø­ØªØ³Ø§Ø¨ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ù‚Ø¨Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©!");
                return;
            }

            // --- 1. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© (ØªÙ‚ÙˆÙŠÙ… Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ø¯Ù‚ÙŠÙ‚) ---
            let y = e.getFullYear() - s.getFullYear();
            let m = e.getMonth() - s.getMonth();
            let d = e.getDate() - s.getDate();

            // Ø§Ø³ØªÙ„Ø§Ù Ø§Ù„Ø£ÙŠØ§Ù… ÙˆØ§Ù„Ø´Ù‡ÙˆØ±
            if (d < 0) {
                m--;
                // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚ Ù„Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
                // (Ù…Ø«Ù„Ø§Ù‹ Ù„Ùˆ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© 5 Ù…Ø§Ø±Ø³ØŒ Ù†Ø¹ÙˆØ¯ Ù„Ø£ÙŠØ§Ù… ÙØ¨Ø±Ø§ÙŠØ±)
                let daysInPrevMonth = new Date(e.getFullYear(), e.getMonth(), 0).getDate();
                d += daysInPrevMonth;
            }
            if (m < 0) {
                y--;
                m += 12;
            }

            actualBox.innerHTML = `Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© (Ù…Ù† ${startInput} Ø¥Ù„Ù‰ ${endInput}):<br>
                               <span style="color:#b88a13; font-size:1.2em">${y}</span> Ø³Ù†Ø© 
                               Ùˆ <span style="color:#b88a13; font-size:1.2em">${m}</span> Ø´Ù‡Ø± 
                               Ùˆ <span style="color:#b88a13; font-size:1.2em">${d}</span> ÙŠÙˆÙ…`;
            actualBox.classList.add('show');

            // --- 2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª ---
            // Ù†Ø¬Ù…Ø¹ Ø§Ù„Ø³Ù†ÙˆØ§Øª ÙˆØ§Ù„Ø´Ù‡ÙˆØ± ÙˆØ§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ø¯Ø®Ù„Ø©
            let addedYears = getVal("gYears") + getVal("mYears");
            let addedMonths = getVal("gMonths") + getVal("mMonths");
            let addedDays = getVal("gDays") + getVal("mDays");

            let subYears = getVal("vYears");
            let subMonths = getVal("vMonths");
            let subDays = getVal("vDays");

            // Ø§Ù„Ù†Ø§ØªØ¬ Ø§Ù„Ø£ÙˆÙ„ÙŠ
            let TY = y + addedYears - subYears;
            let TM = m + addedMonths - subMonths;
            let TD = d + addedDays - subDays;

            // --- ØªØ·Ø¨ÙŠØ¹ (Normalization) Ø§Ù„Ù‚ÙŠÙ… ---
            // ÙÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©ØŒ Ø¹Ø§Ø¯Ø© Ù…Ø§ Ù†Ø¹ØªØ¨Ø± "Ø¬Ø¨Ø± Ø§Ù„ÙƒØ³ÙˆØ±" Ù„Ù„Ø£ÙŠØ§Ù… ÙˆØ§Ù„Ø´Ù‡ÙˆØ± Ø¨Ù‚Ø§Ø¹Ø¯Ø© 30 ÙŠÙˆÙ… Ù„Ù„Ø´Ù‡Ø±
            // Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙØ§Ø¦Ø¶ ÙˆØ§Ù„Ø¹Ø¬Ø² Ø§Ù„Ù†Ø§ØªØ¬ Ø¹Ù† Ø§Ù„Ø¬Ù…Ø¹ ÙˆØ§Ù„Ø·Ø±Ø­

            // Ø£ÙˆÙ„Ø§Ù‹: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø³Ø§Ù„Ø¨Ø© (Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù)
            while (TD < 0) {
                TM--;
                TD += 30; // Ø§Ø³ØªÙ„Ø§Ù Ø´Ù‡Ø± Ø¥Ø¯Ø§Ø±ÙŠ (30 ÙŠÙˆÙ…)
            }

            // Ø«Ø§Ù†ÙŠØ§Ù‹: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø´Ù‡ÙˆØ± Ø§Ù„Ø³Ø§Ù„Ø¨Ø©
            while (TM < 0) {
                TY--;
                TM += 12;
            }

            // Ø«Ø§Ù„Ø«Ø§Ù‹: Ù…Ø¹Ø§Ù„Ø¬Ø© ÙØ§Ø¦Ø¶ Ø§Ù„Ø£ÙŠØ§Ù… (Ø£ÙƒØ«Ø± Ù…Ù† 29 ÙŠÙˆÙ… ØªØ¹ØªØ¨Ø± Ø´Ù‡Ø±)
            // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ØªØ¹ØªØ¨Ø± 30 ÙŠÙˆÙ… = Ø´Ù‡Ø±ØŒ ÙˆØ§Ù„Ø¨Ø¹Ø¶ ÙŠØªØ±ÙƒÙ‡Ø§ Ø£ÙŠØ§Ù…Ø§Ù‹ Ø­ØªÙ‰ ØªØµÙ„ 30.
            // Ø³Ù†Ø¹ØªÙ…Ø¯: ÙƒÙ„ 30 ÙŠÙˆÙ… ØªØªØ­ÙˆÙ„ Ù„Ø´Ù‡Ø±
            while (TD >= 30) {
                TD -= 30;
                TM++;
            }

            // Ø±Ø§Ø¨Ø¹Ø§Ù‹: Ù…Ø¹Ø§Ù„Ø¬Ø© ÙØ§Ø¦Ø¶ Ø§Ù„Ø´Ù‡ÙˆØ±
            while (TM >= 12) {
                TM -= 12;
                TY++;
            }

            totalBox.innerHTML = `ØµØ§ÙÙŠ Ø§Ù„Ø®Ø¯Ù…Ø© (Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª ÙˆØ§Ù„Ø®ØµÙ…):<br>
                              <span style="color:#007bff; font-size:1.4em">${TY}</span> Ø³Ù†Ø© 
                              Ùˆ <span style="color:#007bff; font-size:1.4em">${TM}</span> Ø´Ù‡Ø± 
                              Ùˆ <span style="color:#007bff; font-size:1.4em">${TD}</span> ÙŠÙˆÙ…`;
            totalBox.classList.add('show');
        }
    </script>

</body>

</html>